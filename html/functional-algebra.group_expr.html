<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>functional-algebra.group_expr</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library functional-algebra.group_expr</h1>

<div class="code">
</div>

<div class="doc">
  This module can be used to automatically solve
  equations concerning group expressions.

<div class="paragraph"> </div>

  To do this, we use a technique called
  reflection. Briefly, we represent group
  expressions as abstract trees, then we call
  a function that "simplifies" these trees to
  some canonical form. We prove that, if two
  group expressions have the same canonical
  representation, the expressions are equal.

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">base</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">monoid</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">monoid_expr</span>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Import</span> <span class="id" type="var">group</span>.<br/>
<span class="id" type="keyword">Import</span> <span class="id" type="var">Group</span>.<br/>

<br/>
<span class="id" type="keyword">Module</span> <span class="id" type="var">GroupExpr</span>.<br/>

<br/>
<span class="id" type="keyword">Variable</span> <span class="id" type="var">g</span> : <span class="id" type="var">Group</span>.<br/>

<br/>
<span class="id" type="keyword">Let</span> <span class="id" type="var">E</span> := <span class="id" type="var">E</span> <span class="id" type="var">g</span>.<br/>

<br/>
<span class="id" type="keyword">Let</span> <span class="id" type="var">F</span> := <span class="id" type="var">Monoid.E</span> (<span class="id" type="var">op_monoid</span> <span class="id" type="var">g</span>).<br/>

<br/>
<span class="id" type="keyword">Section</span> <span class="id" type="var">Unittests</span>.<br/>

<br/>
<span class="id" type="keyword">Variables</span> <span class="id" type="var">a</span> <span class="id" type="var">b</span> <span class="id" type="var">c</span> <span class="id" type="var">d</span> : <span class="id" type="var">E</span>.<br/>

<br/>
<span class="id" type="keyword">Let</span> <span class="id" type="var">map</span> := <span class="id" type="var">MonoidExpr.MTerm_map</span> (<span class="id" type="var">op_monoid</span> <span class="id" type="var">g</span>).<br/>

<br/>
</div>

<div class="doc">
  Proves that every group has a monoid set
  and that group elements can be coerced into
  monoid elements.

<div class="paragraph"> </div>

  Note: this is significant because it allows
  us to reduce group expressions using functions
  provided by MonoidExpr.

</div>
<div class="code">
<span class="id" type="keyword">Let</span> <span class="id" type="var">E_test_0</span><br/>
&nbsp;&nbsp;:  <span class="id" type="var">F</span> = <span class="id" type="var">E</span><br/>
&nbsp;&nbsp;:= <span class="id" type="var">eq_refl</span> <span class="id" type="var">_</span>.<br/>

<br/>
<span class="id" type="keyword">Let</span> <span class="id" type="var">reflect_test_0</span><br/>
&nbsp;&nbsp;:  (<span class="id" type="var">a</span> + <span class="id" type="var">b</span>) + (<span class="id" type="var">c</span> + ({-} <span class="id" type="var">d</span>)) = <span class="id" type="var">a</span> + ((<span class="id" type="var">b</span> + <span class="id" type="var">c</span>) + ({-} <span class="id" type="var">d</span>))<br/>
&nbsp;&nbsp;:= <span class="id" type="var">reflect</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">a</span> + <span class="id" type="var">b</span>) + (<span class="id" type="var">c</span> + ({-} <span class="id" type="var">d</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> (({{<span class="id" type="var">a</span> : <span class="id" type="var">F</span>}} # {{<span class="id" type="var">b</span> : <span class="id" type="var">F</span>}}) # ({{<span class="id" type="var">c</span> : <span class="id" type="var">F</span>}} # {{({-} <span class="id" type="var">d</span>) : <span class="id" type="var">F</span>}}))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;==&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">a</span> + ((<span class="id" type="var">b</span> + <span class="id" type="var">c</span>) + ({-} <span class="id" type="var">d</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">as</span> ({{<span class="id" type="var">a</span> : <span class="id" type="var">F</span>}} # (({{<span class="id" type="var">b</span> : <span class="id" type="var">F</span>}} # {{<span class="id" type="var">c</span> : <span class="id" type="var">F</span>}}) # {{({-} <span class="id" type="var">d</span>) : <span class="id" type="var">F</span>}}))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">using</span> <span class="id" type="var">map</span>.<br/>

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="var">Unittests</span>.<br/>

<br/>
</div>

<div class="doc">
  Note: the unittests given above demonstrate that we use monoid terms to simplify group expressions, but we lose information about negation when we do so. Accordingly, we define an alternate term type that captures this information. 

<div class="paragraph"> </div>

  The critical functions are BTree_rassoc and reduce. BTree_rassoc needs the fact that terms encapsulate monoidic values to prove its correctness theorem. 

</div>
<div class="code">

<br/>
<span class="id" type="keyword">End</span> <span class="id" type="var">GroupExpr</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>